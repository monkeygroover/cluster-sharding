app {
	loglevel = "WARNING"
	loglevel = ${?LOG_LEVEL}

	# The Akka actor system will bind to this host and poort
	# The default can be overwritten using the APP_HOST and APP_PORT env variables
	# Note: Default host is `InetAddress.getLocalHost.getHostAddress`
	host = ${?HOST}
	port = ${?PORT}
	bind-port = ${?BIND_PORT}
}


akka {
	loglevel = ${?app.loglevel}

	actor.provider = "akka.cluster.ClusterActorRefProvider"

	remote {
		enabled-transports = ["akka.remote.netty.tcp"]
		log-remote-lifecycle-events = off
		netty.tcp {
			#external docher addr
			hostname = ${?app.host}
			port = ${?app.port}

			#internal docker
			bind-hostname = 0.0.0.0
			bind-port = ${?app.bind-port}
		}
	}

	cluster {
		seed-nodes = [
			#needs to be the docker external address...
			"akka.tcp://ClusterSystem@172.17.42.1:8000"
		]

		auto-down-unreachable-after = 10s
	}

	persistence {
		journal.plugin = "akka-contrib-mongodb-persistence-journal"
		snapshot-store.plugin = "akka-contrib-mongodb-persistence-snapshot"
	}
}

akka.contrib.persistence.mongodb.mongo.mongouri = "mongodb://localhost:27017"